---
title:      "工业互联网网络连接"
date:       2024-06-04
categories: [工业物联,物联网,工业互联]
tag: [工业物联,物联网,工业互联,网络连接]
math: true
description: 认识工业互联网
comments: true
---

# 工业互联网网络连接
工业互联网中，网络连接是基础架构，越来越多的智能设备具备了网络连接与数据传输能力。由于物联网场景复杂多样，设备端硬件条件、网络稳定性、流量限制、设备功耗以及设备连接数量等多方面因素造成物联网设备的消息传递与传统互联网场景有着很大不同，也因此产生了多种物联网通讯协议。
## 工业互联网网络连接分类
 - 从功能角度
  
   从功能角度来划分，我们可以将其分为两大类，一类是物理层/数据链路层协议，一类是应用层协议。

   物理层/数据链路层协议一般负责设备间的组网及通信，比如 2G/3G/4G/5G、NB-IoT、WiFi、ZigBee、LoRa 这些远距离通信，也有近距离的比如 RFID、NFC、蓝牙协议无线协议和 RS232、USB 等有线协议。

   应用层协议则主要是运行在传统互联网 TCP/IP 协议之上的设备通讯协议，这类协议通过互联网，支撑设备到云端平台的数据交换及通信，常见的有 HTTP、MQTT、CoAP、LwM2M 以及 XMPP 等协议。

 - 从应用角度
   
   从协议在物联网系统中的应用角度来看，我们可以将协议划分为云端协议和网关协议。

   1. 云端协议是建立在 TCP/IP 上的协议，传感器、控制设备等物联网数据通常都需要传输上云，通过云端连通用户并与企业系统进行集成。

   支持 TCP/IP 的物联网设备，可以通过 WIFI、蜂窝网络以及以太网，使用 HTTP、MQTT、CoAP、LwM2M 以及 XMPP 等应用层协议协议接入云端。

   2. 网关协议是适用于短距通信无法直接上云的协议，比如蓝牙、ZigBee、LoRa 等。此类设备需要接入网关转换之后，通过 TCP/IP 协议进行上云。

## 工业互联网常见类型
  - MQTT
    
    MQTT 协议是基于发布/订阅模式的物联网通信协议，凭借简单易实现、支持 QoS、报文小等特点，占据了物联网协议的半壁江山。

     MQTT 协议广泛应用于物联网、移动互联网、智能硬件、车联网、电力、能源等领域，既能作为网关在设备侧接入通信，也能作为设备-云端的通信协议。ZigBee、LoRa 等绝大多数网关协议最终都转换为 MQTT 协议接入上云。

    协议特性 
     轻量可靠：MQTT 报文紧凑，可在严重受限的硬件设备和低带宽、高延迟的网络上实现稳定传输。

     发布/订阅模式：基于发布/订阅模式，发布订阅模式的优点在于发布者与订阅者的解耦：订阅者与发布者不需要建立直接连接、也不需要同时在线。

     为物联网而生：提供心跳机制、遗嘱消息、QoS 质量等级+离线消息、主题和安全管理等全面的物联网应用特性。

     生态更完善：覆盖全语言平台的客户端和 SDK，有成熟的 Broker 服务端软件，能够支持海量 Topic ，千万级设备接入量，提供丰富的企业集成能力。
     
    通信模式
     MQTT 采用发布订阅模式通信，发布订阅模式区别于传统的客户端-服务器模式，它使发送消息的客户端（发布者）与接收消息的客户端（订阅者）分离，发布者与订阅者不需要建立直接联系。我们既可以让多个发布者向一个订阅者发布消息，也可以让多个订阅者同时接收一个发布者的消息。

  - CoAP
    
     CoAP 是一种在物联网世界的类 HTTP 的协议，使用在资源受限的物联网设备上，它的详细规范定义在 RFC 7252。

     由于物联网设备大多都是资源限制型的，比如 CPU、RAM、Flash、网络宽带等。对于这类设备来说，想要直接使用现有网络的TCP和HTTP来实现设备实现信息交换是不现实的。为了让这部分设备能够顺利接入网络，CoAP 协议应运而生。
    协议特性
    CoAP 参考了很多 HTTP 的设计思路，同时也根据受限资源限制设备的具体情况改良了诸多的设计细节，增加了很多实用的功能。

     - 基于消息模型
     - 传输层基于 UDP 协议，支持受限设备使用类似 HTTP 请求的请求/响应模型，HTTP 是文本格式，CoAP 为二进制格式，且比 HTTP 更加紧凑
     - 支持双向通信
     - 轻量、低功耗
     - 支持可靠传输，数据重传，块传输，确保数据可靠到达
     - 支持 IP 多播
     - 支持观察模式
     - 支持异步通信

  - LwM2M
  
    LwM2M 是适用于资源有限的终端设备管理的轻量级物联网协议。LwM2M 协议诞生于 2013 年底，由 OMA（Open Mobile Alliance）提出并定义。目前的成熟版本号依然是 1.0，OMA 的专家们正为 1.1 版而努力。

    协议特性

      LwM2M 协议最主要的实体包括 LwM2M Server 和 LwM2M Client。

      LwM2M Server 作为服务器，部署在 M2M 服务供应商处或网络服务供应商处。
      LwM2M Client 作为客户端，部署在各个 LwM2M 设备上。
      此外，根据需要还可以加入LwM2M引导服务器（Bootstrap Server）或智能卡（SmartCard），对客户端完成初始的引导。

    LwM2M 协议有以下几个突出特点：

    - 协议基于 REST 架构。
    - 协议的消息传递是通过 CoAP 协议来达成的。
    - 协议定义了一个紧凑高效又不乏扩展性的数据模型。
    - 考虑到与时俱进，实现简洁易懂的风格，LwM2M 协议采用了 REST。